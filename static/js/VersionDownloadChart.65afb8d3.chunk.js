(this["webpackJsonprn-version-tracker"]=this["webpackJsonprn-version-tracker"]||[]).push([[1],{363:function(e,t,n){e.exports={frame:"VersionTooltip_frame__3Lv0n",date:"VersionTooltip_date__1GwoG",versionsList:"VersionTooltip_versionsList__6ks3l",versionsListItem:"VersionTooltip_versionsListItem__1E-df",versionColorIndicator:"VersionTooltip_versionColorIndicator__201KA",versionLabel:"VersionTooltip_versionLabel__2ZozQ",versionCount:"VersionTooltip_versionCount__2olVR"}},364:function(e,t,n){e.exports={versionsListContainer:"VersionLegend_versionsListContainer__2kfsM",versionsList:"VersionLegend_versionsList__gyOfc",versionsListItem:"VersionLegend_versionsListItem__2Sxmb",versionColorIndicator:"VersionLegend_versionColorIndicator__L-tB-",versionLabel:"VersionLegend_versionLabel__1tflT"}},544:function(e,t,n){"use strict";n.r(t);var a=n(57),r=n(36),i=n(32),o=n(14),s=n(0),c=n(361),l=n.n(c),u={minLuminance:.3},v={maxLuminance:.3},d={saturation:.5,defaultLightness:.5},h={saturation:.7,defaultLightness:.6};function f(e,t){var n="dark"===(null===t||void 0===t?void 0:t.variant)?d.saturation:h.saturation,a=function(e,t,n,a){if("contrasts-light"===a)for(;b(t,n,e)>v.maxLuminance;)e-=.02;else if("contrasts-dark"===a)for(;b(t,n,e)<u.minLuminance;)e+=.02;return e}("dark"===(null===t||void 0===t?void 0:t.variant)?d.defaultLightness:h.defaultLightness,e,n,null===t||void 0===t?void 0:t.targetLuminance);return"hsl(".concat(e,", ").concat(100*n,"%, ").concat(100*a,"%)")}function m(e,t){return Math.abs((e-t+.5)%1-.5)}function b(e,t,n){var a=function(e,t,n){var a=(1-Math.abs(2*n-1))*t,r=a*(1-Math.abs(e/60%2-1)),i=n-a/2,o=0,s=0,c=0;e<60?(o=a,s=r,c=0):e<120?(o=r,s=a,c=0):e<180?(o=0,s=a,c=r):e<240?(o=0,s=r,c=a):e<300?(o=r,s=0,c=a):(o=a,s=0,c=r);return{r:Math.round(255*(o+i)),g:Math.round(255*(s+i)),b:Math.round(255*(c+i))}}(e,t,n),r=a.r,i=a.g,o=a.b;return.2126*j(r/255)+.7152*j(i/255)+.0722*j(o/255)}function j(e){return e<=.03928?e/12.92:Math.pow((e+.055)/1.055,2.4)}var O=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.theme;e.unit;return{areaChart:{margin:{top:15,right:32,bottom:5}},area:{isAnimationActive:!1,stroke:(null===t||void 0===t?void 0:t.isInverted)?t.palette.whiteTranslucent40:null===t||void 0===t?void 0:t.palette.blackTranslucent40},responsiveContainer:{width:"100%",height:220},grid:{stroke:(null===t||void 0===t?void 0:t.isInverted)?t.palette.whiteTranslucent40:null===t||void 0===t?void 0:t.palette.blackTranslucent40,strokeDasharray:"1 1"},xAxis:{height:32,tickLine:!1,tickMargin:10,tick:{fill:null===t||void 0===t?void 0:t.semanticColors.bodyText}},yAxis:{width:80,tickLine:!1,tickMargin:10,tickSize:0,tickCount:5,tick:{fill:null===t||void 0===t?void 0:t.semanticColors.bodyText}},tooltip:{animationDuration:150,animationEasing:"linear",offset:24}}},g=n(363),p=n.n(g),L=n(66),k=n(227),x=n(226),y=n(3);var _=function(e){var t=e.label,n=e.payload,r=e.unit,i=e.versionHues,o=e.theme,s=Object(a.a)(null!==n&&void 0!==n?n:[]);return s.reverse(),Object(y.jsx)(L.a.Consumer,{children:function(e){var n,a,c;o=null!==(n=o)&&void 0!==n?n:e;var l,u=s.length>0&&Object(y.jsx)("ul",{className:p.a.versionsList,children:s.map((function(e,t){var n=o?f(i[e.name],o.isInverted?{variant:"dark",targetLuminance:"contrasts-dark"}:{variant:"light",targetLuminance:"contrasts-light"}):e.color,a=function(e,t,n){var a=t.payload.versionCounts,r=e/Object.values(a).reduce((function(e,t){return e+t}),0)*100;return"percentage"===n?"".concat(Math.round(100*r)/100,"%"):"".concat(e.toLocaleString()," (").concat(Math.round(r),"%)")}(e.value,e,r);return Object(y.jsxs)("li",{className:p.a.versionsListItem,children:[Object(y.jsx)("div",{className:p.a.versionColorIndicator,style:{backgroundColor:n}}),Object(y.jsx)(k.a,{variant:"small",className:p.a.versionLabel,children:e.name}),Object(y.jsx)(k.a,{variant:"small",className:p.a.versionCount,children:a})]},t)}))});return Object(y.jsxs)(x.a,{theme:o,className:p.a.frame,style:{backgroundColor:null===(a=null!==(c=o)&&void 0!==c?c:e)||void 0===a?void 0:a.semanticColors.bodyBackground},children:[Object(y.jsx)(k.a,{className:p.a.date,variant:"medium",children:(l=t,new Date(l).toLocaleDateString("en-US",{month:"short",day:"numeric"}))}),u]})}})},C=n(536),T=n(537),w=n(523),I=n(524),M=n(528),S=n(357),V=n(529),N=n(542),H=n(47),D=n(364),A=n.n(D);function K(e,t){if(0===t)return[];var n=e[0],i=e[e.length-1];if(1===t)return[n];if(2===t)return[n,i];for(var o=i-n,s=t-1,c=6048e5;Math.floor(o/c)>s;)c*=2;var l,u=new Set([n]),v=E(n,c),d=Object(r.a)(e);try{for(d.s();!(l=d.n()).done;){var h=l.value;h>=v&&(u.add(h),v=E(h,c))}}catch(f){d.e(f)}finally{d.f()}return Object(a.a)(u)}function E(e,t){var n=new Date(e);return n.setHours(0,0,0,0),n.getTime()+t}t.default=function(e){var t,n,c=e.history,u=e.maxDaysShown,v=e.maxVersionsShown,d=e.maxTicks,h=e.showLegend,b=e.showTooltip,j=e.unit,g=e.versionLabeler,p=e.theme,x=e.tooltipTheme,D=O({theme:p,unit:j}),E=Object(s.useState)(null),F=Object(o.a)(E,2),z=F[0],B=F[1],G=function(e,t,n){if(0===e.points.length)return e;var a,i=e.points[e.points.length-1].date,s=new Date(i).setHours(0,0,0,0)-24*n*60*60*1e3,c={},l=Object(r.a)(e.points);try{for(l.s();!(a=l.n()).done;){var u=a.value;if(u.date>=s)for(var v=0,d=Object.entries(u.versionCounts);v<d.length;v++){var h,f=Object(o.a)(d[v],2),m=f[0],b=f[1],j=null!==(h=c[m])&&void 0!==h?h:0;c[m]=j+b}}}catch(w){l.e(w)}finally{l.f()}var O,g=new Set(Object.entries(c).sort((function(e,t){return e[1]-t[1]})).slice(-t).map((function(e){var t=Object(o.a)(e,2),n=t[0];t[1];return n}))),p=[],L=Object(r.a)(e.points);try{for(L.s();!(O=L.n()).done;){var k=O.value;if(k.date>=s){var x=Object.keys(k.versionCounts).filter((function(e){return g.has(e)}));if(x.length>0){var y,_={date:k.date,versionCounts:{}},C=Object(r.a)(x);try{for(C.s();!(y=C.n()).done;){var T=y.value;_.versionCounts[T]=k.versionCounts[T]}}catch(w){C.e(w)}finally{C.f()}p.push(_)}}}}catch(w){L.e(w)}finally{L.f()}return{versions:e.versions.filter((function(e){return g.has(e)})),points:p}}(c,v=null!==(t=v)&&void 0!==t?t:5,u=null!==(n=u)&&void 0!==n?n:30),J={},U=void 0,P=G.versions.map((function(e){var t=function(e,t){var n,r,i=l.a.create(e),o=100;do{r=i.random(),r+=.618033988749895,r%=1}while(t&&--o>0&&(m(r,t.adjacentHue)<.4||t.allHues.find((function(e){return m(r,e)<.06}))));return{hue:360*r,avoidToken:{adjacentHue:r,allHues:[].concat(Object(a.a)(null!==(n=null===t||void 0===t?void 0:t.allHues)&&void 0!==n?n:[]),[r])}}}(e,U),n=t.hue,r=t.avoidToken;U=r;var i=g?g(e):e;return J[i]=n,{name:i,hue:n,dataKey:e}})).reverse();if(0===G.points.length)return null;var Q,R,Z=(Q={versionHues:J},function(e){var t=e.payload;return Object(y.jsx)(L.a.Consumer,{children:function(e){return Object(y.jsx)("div",{className:A.a.versionsListContainer,children:Object(y.jsx)("ul",{className:A.a.versionsList,children:t.map((function(t){var n=e?f(Q.versionHues[t.value],e.isInverted?{variant:"dark",targetLuminance:"contrasts-dark"}:{variant:"light",targetLuminance:"contrasts-light"}):t.color;return Object(y.jsxs)("li",{className:A.a.versionsListItem,children:[Object(y.jsx)("div",{className:A.a.versionColorIndicator,style:{backgroundColor:n}}),Object(y.jsx)(k.a,{variant:"small",className:A.a.versionLabel,children:t.value})]},t.value)}))})})}})}),q=(null===p||void 0===p?void 0:p.isInverted)?"dark":"light";return Object(y.jsxs)("div",{children:[Object(y.jsx)(C.a,Object(i.a)(Object(i.a)({},D.responsiveContainer),{},{children:Object(y.jsxs)(T.a,Object(i.a)(Object(i.a)({},D.areaChart),{},{data:G.points,reverseStackOrder:!0,stackOffset:"percentage"===j?"expand":"none",children:[Object(y.jsx)(w.a,Object(i.a)(Object(i.a)({},D.xAxis),{},{dataKey:"date",type:"number",scale:"time",domain:["dataMin","dataMax"],tickFormatter:function(e){return new Date(e).toLocaleDateString("en-US",{month:"short",day:"numeric"})},interval:0,ticks:K(G.points.map((function(e){return e.date})),null!==d&&void 0!==d?d:6)})),Object(y.jsx)(I.a,Object(i.a)(Object(i.a)({},D.yAxis),{},{type:"number"},"percentage"===j?{domain:[0,1],tickFormatter:function(e){return"".concat(Math.round(100*e),"%")}}:{domain:["auto","auto"],tickFormatter:function(e){return e.toLocaleString()}})),!1!==b&&Object(y.jsx)(M.a,Object(i.a)(Object(i.a)({},D.tooltip),{},{content:(R={versionHues:J,unit:j,theme:x},function(e){return Object(y.jsx)(_,Object(i.a)(Object(i.a)({},R),e))})})),!1!==h&&z&&Object(y.jsx)(S.a,{height:0,content:function(e){var t=e.payload;return Object(H.createPortal)(t&&Object(y.jsx)(Z,{payload:t}),z)}}),P.map((function(e){var t=e.name,n=e.hue,a=e.dataKey;return Object(s.createElement)(V.a,Object(i.a)(Object(i.a)({},D.area),{},{name:t,key:t,dataKey:function(e){return e.versionCounts[a]},stackId:"1",fill:f(n,{variant:q,targetLuminance:(null===p||void 0===p?void 0:p.isInverted)?"contrasts-light":"contrasts-dark"}),fillOpacity:1}))})),Object(y.jsx)(N.a,Object(i.a)({},D.grid))]}))})),Object(y.jsx)("div",{ref:function(e){return B(e)}})]})}}}]);
//# sourceMappingURL=VersionDownloadChart.65afb8d3.chunk.js.map